---
layout: post
title:  "1주차 C 언어 과제"
date:   2014-07-02
tag:
- C
comments: true
---

### 시작하기 전에...

Visual Studio 2013에서부터 ```scanf()``` 함수의 사용이 막혔다. ```scanf()```를 사용하면 다음과 같은 오류를 출력한다.

	오류	1 error C4996: 'scanf': This function or variable may be unsafe.
	Consider using scanf_s instead.
	To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.

보안상 안전하지 않은 함수이므로 사용을 못하게 했다고 하지만 그 대안으로 제시된 ```scanf_s()``` 는 C 표준 함수가 아니다. ```scanf_s()``` 는 Visual Studio에서만 사용되는데 만약 ```scanf_s()``` 가 포함된 소스 코드를 다른 IDE(통합개발환경)에서 컴파일하면 에러를 출력할 것이다. 따라서 C 언어 표준을 최대한 따르고자 여기서는 ```scanf()``` 함수를 사용하기로 하며 사용 방법을 소개한다.

#### scanf()를 사용 가능하게 하기

프로그램을 처음 작성할 때 파일의 첫 줄에 다음 코드를 입력한다.

```
#define _CRT_SECURE_NO_WARNINGS
```

위 코드를 설명하자면 다음과 같다. 아까 ```scanf()``` 함수가 보안상의 문제로 사용이 막혔다고 했다. 위 코드는 Visual Studio이 소스 코드를 컴파일할 때 보안에 대한 경고를 출력하지 않게 하는 명령을 정의하는 코드이다. 위 코드를 입력하면 모든 보안상 사용이 막혀 있는 함수를 사용할 수 있다.

개발 편의를 위해 앞으로 작성하는 모든 프로그램의 첫 줄에는 항상 저 코드를 입력하는 것을 원칙으로 한다.

### 과제 1

여타 프로그래밍 언어가 다 그렇지만 유독 C 언어는 '해도 되는 것' 보다 '하면 안되는 것'이 많은 언어다. C 언어의 컴파일러는 다른 언어의 컴파일러보다 엄격한 규칙을 적용하기 때문에 코드 한 줄을 작성해도 세심한 주의를 기울여 작성해야 한다. 이 과제는 C 언어에서 '무엇을 하면 안되는지' 알아보는 과제이다.

> 스터디 시간에 작성한 "Hello world" 프로그램의 소스 코드를 다시 열어보자. 소스 코드에서 문자 하나씩 빼고 실행시켜서 어떤 오류가 발생하는지 알아보고 출력되는 오류코드로 구글 검색을 해보라.

오류는 Visual Studio 프로그램 창 하단의 '오류 목록'에 출력된다. 만약 안보인다면 ```상단 메뉴 -> 보기 -> 오류목록```을 선택해서 창을 띄우면 된다.

Visual Studio는 IntelliSense라는 실시간 오류 검색기능을 사용해서 오류를 출력해주는데 개발자의 입장에서는 매우 편리한 기능이다. 열심히 코딩을 하다보면 화면에 쭉쭉 그인 빨간 줄이 바로 이 기능의 산물이다. 이 기능을 잘 사용하면 어지간한 오류는 컴파일 전에 해결할 수 있으니 잘 활용해주자.

### 과제 2

```scanf()```을 사용해서 다음 프로그램을 작성해라.

> 화씨 온도를 입력 받아 섭씨 온도로 바꾸어 출력하는 프로그램을 작성해라. 이 프로그램은 다음과 같은 출력 결과를 가져야 한다. %d는 순서대로 사용자가 입력하는 화씨 온도와 섭씨 온도를 가리킨다.

	화씨 온도를 입력해 주세요:
	%d
	입력하신 화씨 온도는 섭씨 온도로 %d입니다.

위 출력 결과처럼 사용자에게 해야할 일을 물어보고 답을 해주는 프로그램을 대화형 프로그램이라고 한다. 개발을 할 때 사용자가 어려워하지 않게 대화식으로 작성하는 프로그래머가 친절한 프로그래머의 기본 매너라 하겠다.

### 주의할 점

프로그램을 작성할 때 주석 달기(commenting)와 들여쓰기(indenting)는 남을 위해서 꼭 해야할 일일뿐만 아니라 자신을 위해서도 필수적인 작업이다. 오늘 작성한 프로그램의 소스 코드를 일주일 뒤에 다시 돌아보라. 주석이 달려 있지 않다면 한 눈에 어떤 프로그램인지 알지도 못할 뿐더러 들여쓰기를 하지 않았다면 소스를 분석하는 작업에 배로 긴 시간이 소요된다. 주석 달기와 들여쓰기는 개발의 기본 중의 기본이다.

#### 주석 달기

주석을 달 때에는 엄청 자세하게 달지 않아도 된다. 만약 주석이 소스 코드보다 많다면 그 자체로 좋은 주석이 아니다. 주석을 달기 위해 코드 작성 보다 많은 시간을 투자한다면 개발에 지장을 줄 수도 있고 개발자 본인에게도 부담이 된다. 즉, 주석 한 줄, 코드 한 줄의 개발 방식은 썩 좋은 개발 방식이 아니다. 좋은 주석은 간단하고 명료하게 이 프로그램 / 함수가 하는 일을 개발자에게 알려주는 주석이다. 복잡한 소스 코드를 일일이 읽고 분석하지 않아도 주석 한 줄 읽고 쉽게 이해가 가게 하는 주석이 좋은 주석이다. 또한 개발자가 코드를 분석할 때 주의를 요하는 부분을 콕 집어주는 주석이 좋은 주석이다.

지금은 간단한 프로그램만을 작성하기 때문에 주석은 소스 코드 제일 위에 한 줄로 이 프로그램이 어떤 일을 하는지 써주기만 하면 된다.

#### 들여쓰기

들여쓰기 규칙은 언어마다 다르고 사람마다 다르다. 하지만 '눈에 잘 들어오는 소스 코드를 작성하기 위해서'라는 목적만큼은 모두 같다. C 언어는 고전적인 탭 들여쓰기를 사용한다. 키보드의 탭(tab)을 누르면 커서의 위치를 기준으로 스페이스를 4번 누른 만큼의 여백이 생기며 문장이 오른쪽으로 밀린다. 이렇게 함으로써 소스 코드간의 상하 종속 관계가 분명해지고 각 함수와 변수의 적용 범위(scope)가 명확해진다.

지금은 C 언어의 문법을 이제 배우기 시작했기 때문에 ```main``` 함수 안에 들어가는 내용은 들여쓰기를 하면 된다는 규칙 하나만 알면 된다. 물론 Visual Studio가 알아서 들여쓰기를 해주었기 때문에 그렇게 큰 문제는 없을 것이다.

### 마치며

치킨이 먹고 싶다.